x = float(input("Введите x: "))  # Считываем значение x
epsilon = float(input("Введите ε (точность): "))  # Считываем точность

sum_value = 0.0  # Инициализация суммы ряда
term = 1.0  # Инициализация первого члена ряда
k = 0  # Инициализация номера члена ряда

# Продолжаем вычисления, пока модуль текущего члена больше epsilon
while abs(term) >= epsilon:
    # Вычисляем факториал (k + 1)! и сохраняем в переменную factorial
    factorial = 1
    for i in range(1, k + 2):  # Факториал от 1 до (k + 1)
        factorial *= i  # Умножаем текущий факториал на i

    term = ((-1) ** k * (x / 2) ** (2 * (k + 1))) / (factorial ** 2)  # Вычисляем текущий член ряда(вот тут оптимизируй)
    sum_value += term  # Добавляем текущий член к общей сумме

    # Выводим каждый член ряда и текущую сумму
    print(f"Шаг {k}: term = {term:.6f}, |term| = {abs(term):.6f}, sum = {sum_value:.6f}")

    k += 1  # Переходим к следующему члену ряда

# Выводим результат
print("Приближенное значение суммы ряда:", sum_value)
print("Количество шагов:", k)
