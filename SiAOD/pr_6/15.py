def rearrange_matrix(matrix):
    n = len(matrix)  # Определяем размер матрицы (количество строк)
    rows = list(range(n))  # Создаем список индексов строк, от 0 до n-1
    
    # Проходим по каждому столбцу (по главной диагонали)
    for i in range(n):
        # Ищем строку с отрицательным элементом в текущем столбце
        for j in range(n):
            if matrix[rows[j]][i] < 0:  # Если элемент отрицательный
                rows[i], rows[j] = rows[j], rows[i]  # Меняем местами строки
                break  # Прекращаем поиск, так как нашли нужную строку
    
    # Создаем переставленную матрицу с новыми строками
    rearranged_matrix = [matrix[rows[i]] for i in range(n)]
    return rearranged_matrix  # Возвращаем полученную матрицу

# Ввод матрицы
n = int(input("Введите размер матрицы: "))  # Вводим размер матрицы n (количество строк и столбцов)
print("Введите матрицу:")  # Сообщение для ввода самой матрицы
matrix = []  # Инициализируем пустой список для хранения матрицы
for i in range(n):
    row = list(map(int, input().split()))  # Считываем строку матрицы, преобразуем в список целых чисел
    matrix.append(row)  # Добавляем строку в матрицу

# Перестановка строк
result = rearrange_matrix(matrix)  # Вызываем функцию перестановки строк и сохраняем результат

# Вывод результата
print("Матрица с отрицательными элементами на главной диагонали:")
for row in result:
    print(' '.join(map(str, row)))  # Выводим каждую строку матрицы через пробел
